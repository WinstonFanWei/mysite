{% extends "myapp/base.html" %}

{% block mycontent %}
<!DOCTYPE html>
<html lang="en">

<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<!-- 各种格式？ -->
	<style type="text/css">
		h2.news {
			font-size: 0.55cm;
			font-weight: bold;
			color: #000;
		}
	</style>
	<script src="/static/myapp/js/echarts.min.js"></script>
	<!-- 同上 -->
	<!-- <style>
		body.model {
			margin: 0;
		}

		ul.model {
			list-style-type: none;
			margin: 0;
			padding: 0;
			width: 10%;
			background-color: #f1f1f1;
			position: fixed;
			height: 68%;
			overflow: auto;
		}

		li a {
			display: block;
			color: #000;
			padding: 20px 16px;
			text-decoration: none;
		}

		li a.active {
			background-color: burlywood;
			color: white;
		}

		li a:hover:not(.active) {
			background-color: #555;
			color: white;
		}
	</style> -->
	<style>
		body {
			background: #F1EDE4;
		}

		/* 创建并排的三个非等列 */
		.column {
			float: left;
			width: 40%;
			padding: 15px;
		}

		/* 清除列之后的浮动 */
		.row:after {
			content: "";
			display: table;
			clear: both;
		}

		/* 响应式布局 - 创建堆叠而非并排的三列 */
		@media screen and (max-width:600px) {
			.column {
				width: 100%;
			}
		}

		#header {
			/* background-color: black; */
			color: rgb(233, 137, 19);
			text-align: center;
			padding: 5px;
		}

		/* h1.header{
				font-size: 0.65cm;
				background-color: #F1EDE4;
			} */


		a {
			color: #000
		}

		a:hover {
			color: navy
		}

		/*鼠标经过悬停字体颜色*/
		/*css注释说明：以上代码为设置html中超链接统一字体颜色*/
		/* .diva {
				color: #090
			}

			.diva:hover {
				color: #090
			} */

		/*css注释说明：以上代码为设置html中.div对象内超链接字体颜色*/
		a:visited {
			color: rgba(110, 107, 107, 0.267)
		}
	</style>

</head>


<body>
	<!-- <div class="top-nav-right">
		<form action="{% url 'myadmin_login' %}">
			<input type="text" list="namelist" name="name"><input type="submit" value="" />
			<datalist id="namelist">
				<option value="脊髓性肌萎缩症"></option>
				<option value="纯合子家族性高胆固醇血症"></option>
				<option value="亨廷顿舞蹈病"></option>
	    </form>
	</div> -->
	<div id="header">
		<div id="container" style="text-align: center; height: 80px;"></div>
            <script type="text/javascript" src="/static/myapp/js/echarts.min.js"></script>
            <!-- Uncomment this line if you want to dataTool extension
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5.3.1/dist/extension/dataTool.min.js"></script>
        -->
            <!-- Uncomment this line if you want to use gl extension
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts-gl@2/dist/echarts-gl.min.js"></script>
        -->
            <!-- Uncomment this line if you want to echarts-stat extension
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts-stat@latest/dist/ecStat.min.js"></script>
        -->
            <!-- Uncomment this line if you want to use map
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5.3.1/map/js/china.js"></script>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@5.3.1/map/js/world.js"></script>
        -->
            <!-- Uncomment these two lines if you want to use bmap extension
        <script type="text/javascript" src="https://api.map.baidu.com/api?v=2.0&ak=<Your Key Here>"></script>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/echarts@{{version}}/dist/extension/bmap.min.js"></script>
        -->
            <script type="text/javascript">
                var dom = document.getElementById("container");
                var myChart = echarts.init(dom);
                var app = {};
                var option;
                option = {
                    graphic: {
                        elements: [
                            {
                                type: 'text',
                                left: 'center',
                                top: 'center',
                                style: {
                                    text: '罕见病新闻更新中',
                                    fontSize: 60,
                                    fontWeight: 'bold',
                                    lineDash: [0, 200],
                                    lineDashOffset: 0,
                                    fill: 'transparent',
                                    stroke: '#000',
                                    lineWidth: 1
                                },
                                keyframeAnimation: {
                                    duration: 3000,
                                    loop: false,
                                    keyframes: [
                                        {
                                            percent: 0.7,
                                            style: {
                                                fill: 'transparent',
                                                lineDashOffset: 200,
                                                lineDash: [200, 0]
                                            }
                                        },
                                        {
                                            // Stop for a while.
                                            percent: 0.8,
                                            style: {
                                                fill: 'transparent'
                                            }
                                        },
                                        {
                                            percent: 1,
                                            style: {
                                                fill: 'black'
                                            }
                                        }
                                    ]
                                }
                            }
                        ]
                    }
                };

                if (option && typeof option === 'object') {
                    myChart.setOption(option);
                }

            </script>
		<p style="color: #000;">注: 以下资源来自<a href="https://www.toutiao.com/" target="_blank" style="color: #e98913;">今日头条</a> 按时间排序</p>
	</div>
	<div class="row" style="margin-left:15%;">
		<div class="column" id="first"></div>
		<div class="column" id="second"></div>
	</div>

</body>

<!-- <div style="clear:left;height: 100px;margin-top: 80px;"><img style="float:left;height:130px;"
		src="https://p3-search.byteimg.com/img/pgc-image/RKAVyWp9sJuRRw~tplv-26tn0yjwph-cspd-v1:276:184.webp" />
	<h2 class="news" style="height: 110px;"><a
			href="https://so.toutiao.com/search/jump?url=http%3A%2F%2Fwww.toutiao.com%2Fa6666151748731666958%2F%3Fchannel%3D%26source%3Dsearch_tab&aid=4916&jtoken=e5cb68446a79ba5d6b844e3a2da048e7b9dacb97022a91db14f407d3066c4b080d684953e399e9f54933a01196910a140c33c994c4d51f992ae5f9f9ad45cf02"
			target="_blank">罕见病，你了解多少?
		</a></h2>
	<div>
		<h5 class="news" style="float:left;text-align: left;padding-right: 0.8cm;">人民网</h5>
		<h5 class="news" style="float:left;text-align: left;">2019年3月9日</h5>
	</div>
</div>
<div style="clear:left;height: 100px;margin-top: 80px;"><img style="float:left;height:130px;"
		src="https://p3-search.byteimg.com/img/pgc-image/91265a121cd04327abae5c66f924c8f7~tplv-26tn0yjwph-cspd-v1:276:184.webp" />
	<h2 class="news" style="height: 110px;"><a
			href="https://so.toutiao.com/search/jump?url=http%3A%2F%2Fwww.toutiao.com%2Fa6662985877800616462%2F%3Fchannel%3D%26source%3Dsearch_tab&aid=4916&jtoken=e5cb68446a79ba5d6b844e3a2da048e7a7181ec579b8c202ddd82634daaa633f2b3cbd88f27bb7ad08c9b0048d0962c25f906c3514c565ef5bf5eb067eb3a321"
			target="_blank">“罕见”不代表不见，你常听到的这些疾病，其实都是罕见病!
		</a></h2>
	<div>
		<h5 class="news" style="float:left;text-align: left;padding-right: 0.8cm;">妙手医生新特药</h5>
		<h5 class="news" style="float:left;text-align: left;">2019年2月28日</h5>
	</div>
</div> -->

<script type="text/javascript">
	$.ajax({
		type: "get",
		url: "/news_info",
		dataType: "json",
		success: function (data) {
			news = data["news"];
			var outer_1 = document.getElementById("first");
			var outer_2 = document.getElementById("second");
			for (var i = 0; i < news.length; i++) {
				if (i % 2 == 0) {
					outer = outer_1;
				}
				else {
					outer = outer_2;
				}
				var wrap = document.createElement("div");
				wrap.style = "clear:left;height: 100px;margin-top: 80px;";
				outer.appendChild(wrap);

				var img_a = document.createElement("a");
				img_a.href = news[i].web_site;
				img_a.target = "_blank";
				wrap.appendChild(img_a);

				var img = document.createElement("img");
				img.style = "float:left;height:130px;margin-right:10px;border-radius:30px";
				img.href = news[i].web_site;
				img.src = news[i].image_src;
				if (img.src == "http://raredis.cn/news") {
					img.src = "https://p3-search.byteimg.com/img/tos-cn-i-qvj2lq49k0/a266739b04a84a76952b272c07db70fc~tplv-26tn0yjwph-cspd-v1:276:184.webp";
				};
				img_a.appendChild(img);

				var h2 = document.createElement("h2");
				h2.classList.add("news")
				h2.style = "height: 110px;";
				wrap.appendChild(h2);

				var a = document.createElement("a");
				a.href = news[i].web_site;
				a.target = "_blank";
				h2.appendChild(a);

				a_test = document.createTextNode(news[i].title);
				a.appendChild(a_test);

				var div = document.createElement("div");
				wrap.appendChild(div);

				var h5_1 = document.createElement("h5");
				h5_1.classList.add("news")
				h5_1.style = "float:left;text-align: left;padding-right: 0.8cm;";
				div.appendChild(h5_1);

				var h5_1_test = document.createTextNode(news[i].source);
				h5_1.appendChild(h5_1_test);

				var h5_2 = document.createElement("h5");
				h5_2.classList.add("news")
				h5_2.style = "float:left;text-align: left;";
				div.appendChild(h5_2);

				var h5_2_test = document.createTextNode(news[i].show_time);
				h5_2.appendChild(h5_2_test);
			};
		},
		error: function () {
			console.log("请求失败");
		},
	});
</script>

<script>
	var cla = $("#_news").attr("class", "active");
</script>

{% endblock %}